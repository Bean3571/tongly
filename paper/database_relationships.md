# Связи между таблицами базы данных

## 1. Табличный формат

| Таблица                | Связана с                | Тип связи                | Описание |
|------------------------|--------------------------|--------------------------|----------|
| users                  | user_languages           | 1 ко многим              | Один пользователь может знать несколько языков |
| users                  | user_interests           | 1 ко многим              | Один пользователь может иметь несколько интересов |
| users                  | user_goals               | 1 ко многим              | Один пользователь может иметь несколько целей |
| users                  | student_profiles         | 1 к 1                    | Каждый пользователь-студент имеет один профиль |
| users                  | tutor_profiles           | 1 к 1                    | Каждый пользователь-репетитор имеет один профиль |
| users                  | tutor_availability       | 1 ко многим              | Один репетитор может иметь несколько слотов доступности |
| users                  | lessons (student_id)     | 1 ко многим              | Один студент может иметь много уроков |
| users                  | lessons (tutor_id)       | 1 ко многим              | Один репетитор может проводить много уроков |
| users                  | lessons (cancelled_by)   | 1 ко многим              | Пользователь может отменить много уроков |
| users                  | reviews (reviewer_id)    | 1 ко многим              | Один пользователь может оставить много отзывов |
| users                  | game_results             | 1 ко многим              | Один пользователь может иметь много результатов игр |
| languages              | user_languages           | 1 ко многим              | Один язык может быть у многих пользователей |
| languages              | lessons                  | 1 ко многим              | Один язык может быть у многих уроков |
| languages              | game_results             | 1 ко многим              | Один язык может быть у многих результатов игр |
| language_proficiency   | user_languages           | 1 ко многим              | Один уровень владения может быть у многих пользователей |
| interests              | user_interests           | 1 ко многим              | Один интерес может быть у многих пользователей |
| goals                  | user_goals               | 1 ко многим              | Одна цель может быть у многих пользователей |
| lessons                | reviews                  | 1 ко многим              | Один урок может иметь много отзывов |
| lessons                | (self, cancelled_by)     | 1 ко многим              | Один пользователь может отменить много уроков |


## 2. Плавный текст

В данной базе данных центральной сущностью является таблица `users`, которая соединяется с большинством других таблиц. Каждый пользователь может владеть несколькими языками, что отражается в таблице `user_languages`, где также указывается уровень владения языком из таблицы `language_proficiency`. Интересы и цели пользователя хранятся в таблицах `user_interests` и `user_goals` соответственно, каждая из которых реализует связь многие-ко-многим между пользователями и соответствующими сущностями.

Профили студентов и репетиторов (`student_profiles` и `tutor_profiles`) имеют отношение один-к-одному с пользователем. Репетиторы могут указывать свою доступность в таблице `tutor_availability`, где для каждого слота указывается репетитор, день недели и время.

Уроки (`lessons`) связывают студентов, репетиторов и язык, на котором проводится урок. Каждый урок может быть отменён пользователем, а также иметь отзывы (`reviews`). Результаты игр (`game_results`) также привязаны к пользователю и языку.

