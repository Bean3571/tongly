{"ast":null,"code":"var _jsxFileName = \"C:\\\\Custom\\\\Coding\\\\tongly-basic\\\\tongly-basic\\\\frontend\\\\src\\\\pages\\\\Profile.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useNotification } from '../contexts/NotificationContext';\nimport { api } from '../api/client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Profile = () => {\n  _s();\n  const {\n    user,\n    updateProfile\n  } = useAuth();\n  const {\n    showNotification\n  } = useNotification();\n  const [isEditing, setIsEditing] = useState(false);\n  const fileInputRef = useRef(null);\n  const [avatarPreview, setAvatarPreview] = useState(null);\n  const [formData, setFormData] = useState({\n    first_name: (user === null || user === void 0 ? void 0 : user.first_name) || '',\n    last_name: (user === null || user === void 0 ? void 0 : user.last_name) || '',\n    email: (user === null || user === void 0 ? void 0 : user.email) || '',\n    gender: (user === null || user === void 0 ? void 0 : user.gender) || 'prefer_not_to_say',\n    languages: (user === null || user === void 0 ? void 0 : user.languages) || [],\n    interests: (user === null || user === void 0 ? void 0 : user.interests) || [],\n    learning_goals: (user === null || user === void 0 ? void 0 : user.learning_goals) || []\n  });\n  useEffect(() => {\n    if (user) {\n      setFormData({\n        first_name: user.first_name,\n        last_name: user.last_name,\n        email: user.email,\n        gender: user.gender || 'prefer_not_to_say',\n        languages: user.languages,\n        interests: user.interests,\n        learning_goals: user.learning_goals\n      });\n    }\n  }, [user]);\n  if (!user) {\n    return null;\n  }\n  const handleAvatarClick = () => {\n    var _fileInputRef$current;\n    (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n  };\n  const handleAvatarChange = async e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!file) return;\n\n    // Validate file type\n    if (!file.type.startsWith('image/')) {\n      showNotification('error', 'Please select an image file');\n      return;\n    }\n\n    // Validate file size (max 5MB)\n    if (file.size > 5 * 1024 * 1024) {\n      showNotification('error', 'Image size should be less than 5MB');\n      return;\n    }\n    try {\n      // Create preview\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setAvatarPreview(reader.result);\n      };\n      reader.readAsDataURL(file);\n\n      // Create form data\n      const formData = new FormData();\n      formData.append('file', file);\n\n      // Get token\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n\n      // Upload avatar\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:8080'}/api/profile/avatar`, {\n        method: 'POST',\n        body: formData,\n        credentials: 'include',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      let responseText = await response.text();\n      if (!response.ok) {\n        try {\n          const errorData = JSON.parse(responseText);\n          throw new Error(errorData.error || 'Failed to upload avatar');\n        } catch (e) {\n          throw new Error(responseText || 'Failed to upload avatar');\n        }\n      }\n      await updateProfile();\n      showNotification('success', 'Avatar updated successfully!');\n    } catch (error) {\n      console.error('Failed to upload avatar:', error);\n      showNotification('error', error instanceof Error ? error.message : 'Failed to upload avatar. Please try again.');\n      setAvatarPreview(null);\n    }\n  };\n  const validateForm = () => {\n    if (!formData.email.trim()) {\n      showNotification('error', 'Email is required');\n      return false;\n    }\n    if (!formData.email.includes('@')) {\n      showNotification('error', 'Please enter a valid email address');\n      return false;\n    }\n    return true;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!user) return;\n    try {\n      const updateData = {\n        first_name: formData.first_name.trim() || undefined,\n        last_name: formData.last_name.trim() || undefined,\n        gender: formData.gender,\n        languages: formData.languages,\n        interests: formData.interests,\n        learning_goals: formData.learning_goals\n      };\n      await api.user.updateProfile(updateData);\n      await updateProfile();\n      setIsEditing(false);\n      showNotification('success', 'Profile updated successfully!');\n    } catch (error) {\n      showNotification('error', 'Failed to update profile');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4 py-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n              children: \"Profile Settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setIsEditing(!isEditing),\n              className: \"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg \\r hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              children: isEditing ? 'Cancel' : 'Edit Profile'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: avatarPreview || user.profile_picture || '/default-avatar.svg',\n                alt: \"Profile\",\n                className: \"w-24 h-24 rounded-full object-cover border-4 border-white dark:border-gray-700\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 33\n              }, this), isEditing && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleAvatarClick,\n                className: \"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full \\r hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  className: \"h-4 w-4\",\n                  viewBox: \"0 0 20 20\",\n                  fill: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                ref: fileInputRef,\n                type: \"file\",\n                accept: \"image/*\",\n                onChange: handleAvatarChange,\n                className: \"hidden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n                  children: \"First Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: formData.first_name,\n                  onChange: e => setFormData({\n                    ...formData,\n                    first_name: e.target.value\n                  }),\n                  className: \"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 \\r rounded-lg shadow-sm focus:outline-none focus:ring-2 \\r focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n                  children: \"Last Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: formData.last_name,\n                  onChange: e => setFormData({\n                    ...formData,\n                    last_name: e.target.value\n                  }),\n                  className: \"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 \\r rounded-lg shadow-sm focus:outline-none focus:ring-2 \\r focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                value: formData.email,\n                onChange: e => setFormData({\n                  ...formData,\n                  email: e.target.value\n                }),\n                className: \"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 \\r rounded-lg shadow-sm focus:outline-none focus:ring-2 \\r focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n                  children: \"Gender\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: formData.gender,\n                  onChange: e => setFormData({\n                    ...formData,\n                    gender: e.target.value\n                  }),\n                  className: \"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 \\r rounded-lg shadow-sm focus:outline-none focus:ring-2 \\r focus:ring-blue-500 dark:bg-gray-700 dark:text-white\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"prefer_not_to_say\",\n                    children: \"Prefer not to say\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"male\",\n                    children: \"Male\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"female\",\n                    children: \"Female\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-end\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 \\r focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                children: \"Save Changes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-sm font-medium text-gray-500 dark:text-gray-400\",\n                  children: \"First Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-gray-900 dark:text-white\",\n                  children: user.first_name || 'Not set'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-sm font-medium text-gray-500 dark:text-gray-400\",\n                  children: \"Last Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-gray-900 dark:text-white\",\n                  children: user.last_name || 'Not set'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-sm font-medium text-gray-500 dark:text-gray-400\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-gray-900 dark:text-white\",\n                children: user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-sm font-medium text-gray-500 dark:text-gray-400\",\n                  children: \"Gender\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-gray-900 dark:text-white\",\n                  children: user.gender === 'prefer_not_to_say' ? 'Prefer not to say' : user.gender ? user.gender.charAt(0).toUpperCase() + user.gender.slice(1) : 'Not set'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 9\n  }, this);\n};\n_s(Profile, \"URFHgw0sUBTQSMKV5d8dH3Jr/Sc=\", false, function () {\n  return [useAuth, useNotification];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useAuth","useNotification","api","jsxDEV","_jsxDEV","Profile","_s","user","updateProfile","showNotification","isEditing","setIsEditing","fileInputRef","avatarPreview","setAvatarPreview","formData","setFormData","first_name","last_name","email","gender","languages","interests","learning_goals","handleAvatarClick","_fileInputRef$current","current","click","handleAvatarChange","e","_e$target$files","file","target","files","type","startsWith","size","reader","FileReader","onloadend","result","readAsDataURL","FormData","append","token","localStorage","getItem","Error","response","fetch","process","env","REACT_APP_API_URL","method","body","credentials","headers","responseText","text","ok","errorData","JSON","parse","error","console","message","validateForm","trim","includes","handleSubmit","preventDefault","updateData","undefined","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","src","profile_picture","alt","xmlns","viewBox","fill","d","ref","accept","onChange","onSubmit","value","charAt","toUpperCase","slice","_c","$RefreshReg$"],"sources":["C:/Custom/Coding/tongly-basic/tongly-basic/frontend/src/pages/Profile.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useNotification } from '../contexts/NotificationContext';\r\nimport { api } from '../api/client';\r\nimport { Gender } from '../types';\r\n\r\ninterface FormData {\r\n    first_name: string;\r\n    last_name: string;\r\n    email: string;\r\n    gender: Gender;\r\n    languages: Language[];\r\n    interests: string[];\r\n    learning_goals: string[];\r\n}\r\n\r\nexport const Profile = () => {\r\n    const { user, updateProfile } = useAuth();\r\n    const { showNotification } = useNotification();\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const fileInputRef = useRef<HTMLInputElement>(null);\r\n    const [avatarPreview, setAvatarPreview] = useState<string | null>(null);\r\n    const [formData, setFormData] = useState<FormData>({\r\n        first_name: user?.first_name || '',\r\n        last_name: user?.last_name || '',\r\n        email: user?.email || '',\r\n        gender: user?.gender || 'prefer_not_to_say',\r\n        languages: user?.languages || [],\r\n        interests: user?.interests || [],\r\n        learning_goals: user?.learning_goals || []\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            setFormData({\r\n                first_name: user.first_name,\r\n                last_name: user.last_name,\r\n                email: user.email,\r\n                gender: user.gender || 'prefer_not_to_say',\r\n                languages: user.languages,\r\n                interests: user.interests,\r\n                learning_goals: user.learning_goals\r\n            });\r\n        }\r\n    }, [user]);\r\n\r\n    if (!user) {\r\n        return null;\r\n    }\r\n\r\n    const handleAvatarClick = () => {\r\n        fileInputRef.current?.click();\r\n    };\r\n\r\n    const handleAvatarChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n\r\n        // Validate file type\r\n        if (!file.type.startsWith('image/')) {\r\n            showNotification('error', 'Please select an image file');\r\n            return;\r\n        }\r\n\r\n        // Validate file size (max 5MB)\r\n        if (file.size > 5 * 1024 * 1024) {\r\n            showNotification('error', 'Image size should be less than 5MB');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Create preview\r\n            const reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                setAvatarPreview(reader.result as string);\r\n            };\r\n            reader.readAsDataURL(file);\r\n\r\n            // Create form data\r\n            const formData = new FormData();\r\n            formData.append('file', file);\r\n\r\n            // Get token\r\n            const token = localStorage.getItem('token');\r\n            if (!token) {\r\n                throw new Error('No authentication token found');\r\n            }\r\n\r\n            // Upload avatar\r\n            const response = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:8080'}/api/profile/avatar`, {\r\n                method: 'POST',\r\n                body: formData,\r\n                credentials: 'include',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                }\r\n            });\r\n\r\n            let responseText = await response.text();\r\n            if (!response.ok) {\r\n                try {\r\n                    const errorData = JSON.parse(responseText);\r\n                    throw new Error(errorData.error || 'Failed to upload avatar');\r\n                } catch (e) {\r\n                    throw new Error(responseText || 'Failed to upload avatar');\r\n                }\r\n            }\r\n\r\n            await updateProfile();\r\n            showNotification('success', 'Avatar updated successfully!');\r\n        } catch (error) {\r\n            console.error('Failed to upload avatar:', error);\r\n            showNotification('error', error instanceof Error ? error.message : 'Failed to upload avatar. Please try again.');\r\n            setAvatarPreview(null);\r\n        }\r\n    };\r\n\r\n    const validateForm = () => {\r\n        if (!formData.email.trim()) {\r\n            showNotification('error', 'Email is required');\r\n            return false;\r\n        }\r\n        if (!formData.email.includes('@')) {\r\n            showNotification('error', 'Please enter a valid email address');\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!user) return;\r\n\r\n        try {\r\n            const updateData: ProfileUpdateData = {\r\n                first_name: formData.first_name.trim() || undefined,\r\n                last_name: formData.last_name.trim() || undefined,\r\n                gender: formData.gender,\r\n                languages: formData.languages,\r\n                interests: formData.interests,\r\n                learning_goals: formData.learning_goals\r\n            };\r\n\r\n            await api.user.updateProfile(updateData);\r\n            await updateProfile();\r\n            setIsEditing(false);\r\n            showNotification('success', 'Profile updated successfully!');\r\n        } catch (error) {\r\n            showNotification('error', 'Failed to update profile');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"container mx-auto px-4 py-8\">\r\n            <div className=\"max-w-2xl mx-auto\">\r\n                <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden\">\r\n                    <div className=\"p-6\">\r\n                        <div className=\"flex items-center justify-between mb-6\">\r\n                            <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\r\n                                Profile Settings\r\n                            </h1>\r\n                            <button\r\n                                onClick={() => setIsEditing(!isEditing)}\r\n                                className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg \r\n                                         hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            >\r\n                                {isEditing ? 'Cancel' : 'Edit Profile'}\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center mb-6\">\r\n                            <div className=\"relative\">\r\n                                <img\r\n                                    src={avatarPreview || user.profile_picture || '/default-avatar.svg'}\r\n                                    alt=\"Profile\"\r\n                                    className=\"w-24 h-24 rounded-full object-cover border-4 border-white dark:border-gray-700\"\r\n                                />\r\n                                {isEditing && (\r\n                                    <button\r\n                                        onClick={handleAvatarClick}\r\n                                        className=\"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full \r\n                                                 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                    >\r\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                                            <path d=\"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\" />\r\n                                        </svg>\r\n                                    </button>\r\n                                )}\r\n                                <input\r\n                                    ref={fileInputRef}\r\n                                    type=\"file\"\r\n                                    accept=\"image/*\"\r\n                                    onChange={handleAvatarChange}\r\n                                    className=\"hidden\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {isEditing ? (\r\n                            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                                            First Name\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={formData.first_name}\r\n                                            onChange={(e) => setFormData({ ...formData, first_name: e.target.value })}\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 \r\n                                                     rounded-lg shadow-sm focus:outline-none focus:ring-2 \r\n                                                     focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                                            Last Name\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={formData.last_name}\r\n                                            onChange={(e) => setFormData({ ...formData, last_name: e.target.value })}\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 \r\n                                                     rounded-lg shadow-sm focus:outline-none focus:ring-2 \r\n                                                     focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                                        Email\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"email\"\r\n                                        value={formData.email}\r\n                                        onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n                                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 \r\n                                                 rounded-lg shadow-sm focus:outline-none focus:ring-2 \r\n                                                 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\r\n                                    />\r\n                                </div>\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                                            Gender\r\n                                        </label>\r\n                                        <select\r\n                                            value={formData.gender}\r\n                                            onChange={(e) => setFormData({ ...formData, gender: e.target.value as Gender })}\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 \r\n                                                     rounded-lg shadow-sm focus:outline-none focus:ring-2 \r\n                                                     focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\r\n                                        >\r\n                                            <option value=\"prefer_not_to_say\">Prefer not to say</option>\r\n                                            <option value=\"male\">Male</option>\r\n                                            <option value=\"female\">Female</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"flex justify-end\">\r\n                                    <button\r\n                                        type=\"submit\"\r\n                                        className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 \r\n                                                 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                    >\r\n                                        Save Changes\r\n                                    </button>\r\n                                </div>\r\n                            </form>\r\n                        ) : (\r\n                            <div className=\"space-y-4\">\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                    <div>\r\n                                        <h3 className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">\r\n                                            First Name\r\n                                        </h3>\r\n                                        <p className=\"mt-1 text-gray-900 dark:text-white\">\r\n                                            {user.first_name || 'Not set'}\r\n                                        </p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <h3 className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">\r\n                                            Last Name\r\n                                        </h3>\r\n                                        <p className=\"mt-1 text-gray-900 dark:text-white\">\r\n                                            {user.last_name || 'Not set'}\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                                <div>\r\n                                    <h3 className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">\r\n                                        Email\r\n                                    </h3>\r\n                                    <p className=\"mt-1 text-gray-900 dark:text-white\">{user.email}</p>\r\n                                </div>\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                    <div>\r\n                                        <h3 className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">\r\n                                            Gender\r\n                                        </h3>\r\n                                        <p className=\"mt-1 text-gray-900 dark:text-white\">\r\n                                            {user.gender === 'prefer_not_to_say' \r\n                                                ? 'Prefer not to say' \r\n                                                : user.gender ? user.gender.charAt(0).toUpperCase() + user.gender.slice(1) : 'Not set'}\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,SAASC,OAAO,QAAQ,yBAAyB;AACjD,SAASC,eAAe,QAAQ,iCAAiC;AACjE,SAASC,GAAG,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAapC,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM;IAAEC,IAAI;IAAEC;EAAc,CAAC,GAAGR,OAAO,CAAC,CAAC;EACzC,MAAM;IAAES;EAAiB,CAAC,GAAGR,eAAe,CAAC,CAAC;EAC9C,MAAM,CAACS,SAAS,EAAEC,YAAY,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAMe,YAAY,GAAGd,MAAM,CAAmB,IAAI,CAAC;EACnD,MAAM,CAACe,aAAa,EAAEC,gBAAgB,CAAC,GAAGjB,QAAQ,CAAgB,IAAI,CAAC;EACvE,MAAM,CAACkB,QAAQ,EAAEC,WAAW,CAAC,GAAGnB,QAAQ,CAAW;IAC/CoB,UAAU,EAAE,CAAAV,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEU,UAAU,KAAI,EAAE;IAClCC,SAAS,EAAE,CAAAX,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEW,SAAS,KAAI,EAAE;IAChCC,KAAK,EAAE,CAAAZ,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEY,KAAK,KAAI,EAAE;IACxBC,MAAM,EAAE,CAAAb,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEa,MAAM,KAAI,mBAAmB;IAC3CC,SAAS,EAAE,CAAAd,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEc,SAAS,KAAI,EAAE;IAChCC,SAAS,EAAE,CAAAf,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEe,SAAS,KAAI,EAAE;IAChCC,cAAc,EAAE,CAAAhB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEgB,cAAc,KAAI;EAC5C,CAAC,CAAC;EAEFxB,SAAS,CAAC,MAAM;IACZ,IAAIQ,IAAI,EAAE;MACNS,WAAW,CAAC;QACRC,UAAU,EAAEV,IAAI,CAACU,UAAU;QAC3BC,SAAS,EAAEX,IAAI,CAACW,SAAS;QACzBC,KAAK,EAAEZ,IAAI,CAACY,KAAK;QACjBC,MAAM,EAAEb,IAAI,CAACa,MAAM,IAAI,mBAAmB;QAC1CC,SAAS,EAAEd,IAAI,CAACc,SAAS;QACzBC,SAAS,EAAEf,IAAI,CAACe,SAAS;QACzBC,cAAc,EAAEhB,IAAI,CAACgB;MACzB,CAAC,CAAC;IACN;EACJ,CAAC,EAAE,CAAChB,IAAI,CAAC,CAAC;EAEV,IAAI,CAACA,IAAI,EAAE;IACP,OAAO,IAAI;EACf;EAEA,MAAMiB,iBAAiB,GAAGA,CAAA,KAAM;IAAA,IAAAC,qBAAA;IAC5B,CAAAA,qBAAA,GAAAb,YAAY,CAACc,OAAO,cAAAD,qBAAA,uBAApBA,qBAAA,CAAsBE,KAAK,CAAC,CAAC;EACjC,CAAC;EAED,MAAMC,kBAAkB,GAAG,MAAOC,CAAsC,IAAK;IAAA,IAAAC,eAAA;IACzE,MAAMC,IAAI,IAAAD,eAAA,GAAGD,CAAC,CAACG,MAAM,CAACC,KAAK,cAAAH,eAAA,uBAAdA,eAAA,CAAiB,CAAC,CAAC;IAChC,IAAI,CAACC,IAAI,EAAE;;IAEX;IACA,IAAI,CAACA,IAAI,CAACG,IAAI,CAACC,UAAU,CAAC,QAAQ,CAAC,EAAE;MACjC1B,gBAAgB,CAAC,OAAO,EAAE,6BAA6B,CAAC;MACxD;IACJ;;IAEA;IACA,IAAIsB,IAAI,CAACK,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,EAAE;MAC7B3B,gBAAgB,CAAC,OAAO,EAAE,oCAAoC,CAAC;MAC/D;IACJ;IAEA,IAAI;MACA;MACA,MAAM4B,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAC/BD,MAAM,CAACE,SAAS,GAAG,MAAM;QACrBzB,gBAAgB,CAACuB,MAAM,CAACG,MAAgB,CAAC;MAC7C,CAAC;MACDH,MAAM,CAACI,aAAa,CAACV,IAAI,CAAC;;MAE1B;MACA,MAAMhB,QAAQ,GAAG,IAAI2B,QAAQ,CAAC,CAAC;MAC/B3B,QAAQ,CAAC4B,MAAM,CAAC,MAAM,EAAEZ,IAAI,CAAC;;MAE7B;MACA,MAAMa,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,IAAI,CAACF,KAAK,EAAE;QACR,MAAM,IAAIG,KAAK,CAAC,+BAA+B,CAAC;MACpD;;MAEA;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB,qBAAqB,EAAE;QAC3GC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEvC,QAAQ;QACdwC,WAAW,EAAE,SAAS;QACtBC,OAAO,EAAE;UACL,eAAe,EAAE,UAAUZ,KAAK;QACpC;MACJ,CAAC,CAAC;MAEF,IAAIa,YAAY,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;MACxC,IAAI,CAACV,QAAQ,CAACW,EAAE,EAAE;QACd,IAAI;UACA,MAAMC,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACL,YAAY,CAAC;UAC1C,MAAM,IAAIV,KAAK,CAACa,SAAS,CAACG,KAAK,IAAI,yBAAyB,CAAC;QACjE,CAAC,CAAC,OAAOlC,CAAC,EAAE;UACR,MAAM,IAAIkB,KAAK,CAACU,YAAY,IAAI,yBAAyB,CAAC;QAC9D;MACJ;MAEA,MAAMjD,aAAa,CAAC,CAAC;MACrBC,gBAAgB,CAAC,SAAS,EAAE,8BAA8B,CAAC;IAC/D,CAAC,CAAC,OAAOsD,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDtD,gBAAgB,CAAC,OAAO,EAAEsD,KAAK,YAAYhB,KAAK,GAAGgB,KAAK,CAACE,OAAO,GAAG,4CAA4C,CAAC;MAChHnD,gBAAgB,CAAC,IAAI,CAAC;IAC1B;EACJ,CAAC;EAED,MAAMoD,YAAY,GAAGA,CAAA,KAAM;IACvB,IAAI,CAACnD,QAAQ,CAACI,KAAK,CAACgD,IAAI,CAAC,CAAC,EAAE;MACxB1D,gBAAgB,CAAC,OAAO,EAAE,mBAAmB,CAAC;MAC9C,OAAO,KAAK;IAChB;IACA,IAAI,CAACM,QAAQ,CAACI,KAAK,CAACiD,QAAQ,CAAC,GAAG,CAAC,EAAE;MAC/B3D,gBAAgB,CAAC,OAAO,EAAE,oCAAoC,CAAC;MAC/D,OAAO,KAAK;IAChB;IACA,OAAO,IAAI;EACf,CAAC;EAED,MAAM4D,YAAY,GAAG,MAAOxC,CAAkB,IAAK;IAC/CA,CAAC,CAACyC,cAAc,CAAC,CAAC;IAClB,IAAI,CAAC/D,IAAI,EAAE;IAEX,IAAI;MACA,MAAMgE,UAA6B,GAAG;QAClCtD,UAAU,EAAEF,QAAQ,CAACE,UAAU,CAACkD,IAAI,CAAC,CAAC,IAAIK,SAAS;QACnDtD,SAAS,EAAEH,QAAQ,CAACG,SAAS,CAACiD,IAAI,CAAC,CAAC,IAAIK,SAAS;QACjDpD,MAAM,EAAEL,QAAQ,CAACK,MAAM;QACvBC,SAAS,EAAEN,QAAQ,CAACM,SAAS;QAC7BC,SAAS,EAAEP,QAAQ,CAACO,SAAS;QAC7BC,cAAc,EAAER,QAAQ,CAACQ;MAC7B,CAAC;MAED,MAAMrB,GAAG,CAACK,IAAI,CAACC,aAAa,CAAC+D,UAAU,CAAC;MACxC,MAAM/D,aAAa,CAAC,CAAC;MACrBG,YAAY,CAAC,KAAK,CAAC;MACnBF,gBAAgB,CAAC,SAAS,EAAE,+BAA+B,CAAC;IAChE,CAAC,CAAC,OAAOsD,KAAK,EAAE;MACZtD,gBAAgB,CAAC,OAAO,EAAE,0BAA0B,CAAC;IACzD;EACJ,CAAC;EAED,oBACIL,OAAA;IAAKqE,SAAS,EAAC,6BAA6B;IAAAC,QAAA,eACxCtE,OAAA;MAAKqE,SAAS,EAAC,mBAAmB;MAAAC,QAAA,eAC9BtE,OAAA;QAAKqE,SAAS,EAAC,gEAAgE;QAAAC,QAAA,eAC3EtE,OAAA;UAAKqE,SAAS,EAAC,KAAK;UAAAC,QAAA,gBAChBtE,OAAA;YAAKqE,SAAS,EAAC,wCAAwC;YAAAC,QAAA,gBACnDtE,OAAA;cAAIqE,SAAS,EAAC,kDAAkD;cAAAC,QAAA,EAAC;YAEjE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACL1E,OAAA;cACI2E,OAAO,EAAEA,CAAA,KAAMpE,YAAY,CAAC,CAACD,SAAS,CAAE;cACxC+D,SAAS,EAAC,0IACqE;cAAAC,QAAA,EAE9EhE,SAAS,GAAG,QAAQ,GAAG;YAAc;cAAAiE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC,eAEN1E,OAAA;YAAKqE,SAAS,EAAC,wBAAwB;YAAAC,QAAA,eACnCtE,OAAA;cAAKqE,SAAS,EAAC,UAAU;cAAAC,QAAA,gBACrBtE,OAAA;gBACI4E,GAAG,EAAEnE,aAAa,IAAIN,IAAI,CAAC0E,eAAe,IAAI,qBAAsB;gBACpEC,GAAG,EAAC,SAAS;gBACbT,SAAS,EAAC;cAAgF;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7F,CAAC,EACDpE,SAAS,iBACNN,OAAA;gBACI2E,OAAO,EAAEvD,iBAAkB;gBAC3BiD,SAAS,EAAC,4IACqE;gBAAAC,QAAA,eAE/EtE,OAAA;kBAAK+E,KAAK,EAAC,4BAA4B;kBAACV,SAAS,EAAC,SAAS;kBAACW,OAAO,EAAC,WAAW;kBAACC,IAAI,EAAC,cAAc;kBAAAX,QAAA,eAC/FtE,OAAA;oBAAMkF,CAAC,EAAC;kBAAyH;oBAAAX,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF,CACX,eACD1E,OAAA;gBACImF,GAAG,EAAE3E,YAAa;gBAClBsB,IAAI,EAAC,MAAM;gBACXsD,MAAM,EAAC,SAAS;gBAChBC,QAAQ,EAAE7D,kBAAmB;gBAC7B6C,SAAS,EAAC;cAAQ;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,EAELpE,SAAS,gBACNN,OAAA;YAAMsF,QAAQ,EAAErB,YAAa;YAACI,SAAS,EAAC,WAAW;YAAAC,QAAA,gBAC/CtE,OAAA;cAAKqE,SAAS,EAAC,uCAAuC;cAAAC,QAAA,gBAClDtE,OAAA;gBAAAsE,QAAA,gBACItE,OAAA;kBAAOqE,SAAS,EAAC,iEAAiE;kBAAAC,QAAA,EAAC;gBAEnF;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACR1E,OAAA;kBACI8B,IAAI,EAAC,MAAM;kBACXyD,KAAK,EAAE5E,QAAQ,CAACE,UAAW;kBAC3BwE,QAAQ,EAAG5D,CAAC,IAAKb,WAAW,CAAC;oBAAE,GAAGD,QAAQ;oBAAEE,UAAU,EAAEY,CAAC,CAACG,MAAM,CAAC2D;kBAAM,CAAC,CAAE;kBAC1ElB,SAAS,EAAC;gBAEoD;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACjE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CAAC,eACN1E,OAAA;gBAAAsE,QAAA,gBACItE,OAAA;kBAAOqE,SAAS,EAAC,iEAAiE;kBAAAC,QAAA,EAAC;gBAEnF;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACR1E,OAAA;kBACI8B,IAAI,EAAC,MAAM;kBACXyD,KAAK,EAAE5E,QAAQ,CAACG,SAAU;kBAC1BuE,QAAQ,EAAG5D,CAAC,IAAKb,WAAW,CAAC;oBAAE,GAAGD,QAAQ;oBAAEG,SAAS,EAAEW,CAAC,CAACG,MAAM,CAAC2D;kBAAM,CAAC,CAAE;kBACzElB,SAAS,EAAC;gBAEoD;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACjE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACN1E,OAAA;cAAAsE,QAAA,gBACItE,OAAA;gBAAOqE,SAAS,EAAC,iEAAiE;gBAAAC,QAAA,EAAC;cAEnF;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACR1E,OAAA;gBACI8B,IAAI,EAAC,OAAO;gBACZyD,KAAK,EAAE5E,QAAQ,CAACI,KAAM;gBACtBsE,QAAQ,EAAG5D,CAAC,IAAKb,WAAW,CAAC;kBAAE,GAAGD,QAAQ;kBAAEI,KAAK,EAAEU,CAAC,CAACG,MAAM,CAAC2D;gBAAM,CAAC,CAAE;gBACrElB,SAAS,EAAC;cAEoD;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC,eACN1E,OAAA;cAAKqE,SAAS,EAAC,uCAAuC;cAAAC,QAAA,eAClDtE,OAAA;gBAAAsE,QAAA,gBACItE,OAAA;kBAAOqE,SAAS,EAAC,iEAAiE;kBAAAC,QAAA,EAAC;gBAEnF;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACR1E,OAAA;kBACIuF,KAAK,EAAE5E,QAAQ,CAACK,MAAO;kBACvBqE,QAAQ,EAAG5D,CAAC,IAAKb,WAAW,CAAC;oBAAE,GAAGD,QAAQ;oBAAEK,MAAM,EAAES,CAAC,CAACG,MAAM,CAAC2D;kBAAgB,CAAC,CAAE;kBAChFlB,SAAS,EAAC,8KAEoD;kBAAAC,QAAA,gBAE9DtE,OAAA;oBAAQuF,KAAK,EAAC,mBAAmB;oBAAAjB,QAAA,EAAC;kBAAiB;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eAC5D1E,OAAA;oBAAQuF,KAAK,EAAC,MAAM;oBAAAjB,QAAA,EAAC;kBAAI;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eAClC1E,OAAA;oBAAQuF,KAAK,EAAC,QAAQ;oBAAAjB,QAAA,EAAC;kBAAM;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAClC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACR;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACN1E,OAAA;cAAKqE,SAAS,EAAC,kBAAkB;cAAAC,QAAA,eAC7BtE,OAAA;gBACI8B,IAAI,EAAC,QAAQ;gBACbuC,SAAS,EAAC,sHACmD;gBAAAC,QAAA,EAChE;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,gBAEP1E,OAAA;YAAKqE,SAAS,EAAC,WAAW;YAAAC,QAAA,gBACtBtE,OAAA;cAAKqE,SAAS,EAAC,uCAAuC;cAAAC,QAAA,gBAClDtE,OAAA;gBAAAsE,QAAA,gBACItE,OAAA;kBAAIqE,SAAS,EAAC,sDAAsD;kBAAAC,QAAA,EAAC;gBAErE;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACL1E,OAAA;kBAAGqE,SAAS,EAAC,oCAAoC;kBAAAC,QAAA,EAC5CnE,IAAI,CAACU,UAAU,IAAI;gBAAS;kBAAA0D,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC9B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eACN1E,OAAA;gBAAAsE,QAAA,gBACItE,OAAA;kBAAIqE,SAAS,EAAC,sDAAsD;kBAAAC,QAAA,EAAC;gBAErE;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACL1E,OAAA;kBAAGqE,SAAS,EAAC,oCAAoC;kBAAAC,QAAA,EAC5CnE,IAAI,CAACW,SAAS,IAAI;gBAAS;kBAAAyD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC7B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACN1E,OAAA;cAAAsE,QAAA,gBACItE,OAAA;gBAAIqE,SAAS,EAAC,sDAAsD;gBAAAC,QAAA,EAAC;cAErE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACL1E,OAAA;gBAAGqE,SAAS,EAAC,oCAAoC;gBAAAC,QAAA,EAAEnE,IAAI,CAACY;cAAK;gBAAAwD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjE,CAAC,eACN1E,OAAA;cAAKqE,SAAS,EAAC,uCAAuC;cAAAC,QAAA,eAClDtE,OAAA;gBAAAsE,QAAA,gBACItE,OAAA;kBAAIqE,SAAS,EAAC,sDAAsD;kBAAAC,QAAA,EAAC;gBAErE;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACL1E,OAAA;kBAAGqE,SAAS,EAAC,oCAAoC;kBAAAC,QAAA,EAC5CnE,IAAI,CAACa,MAAM,KAAK,mBAAmB,GAC9B,mBAAmB,GACnBb,IAAI,CAACa,MAAM,GAAGb,IAAI,CAACa,MAAM,CAACwE,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGtF,IAAI,CAACa,MAAM,CAAC0E,KAAK,CAAC,CAAC,CAAC,GAAG;gBAAS;kBAAAnB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC3F,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CACR;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAACxE,EAAA,CA1SWD,OAAO;EAAA,QACgBL,OAAO,EACVC,eAAe;AAAA;AAAA8F,EAAA,GAFnC1F,OAAO;AA4SpB,eAAeA,OAAO;AAAC,IAAA0F,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}