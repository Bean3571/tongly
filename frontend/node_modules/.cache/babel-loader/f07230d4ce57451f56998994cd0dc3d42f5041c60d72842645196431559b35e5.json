{"ast":null,"code":"import axios from 'axios';\nconst baseURL = process.env.REACT_APP_API_URL || 'http://localhost:8080';\nconst apiClient = axios.create({\n  baseURL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\napiClient.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\nexport const api = {\n  auth: {\n    login: credentials => apiClient.post('/auth/login', credentials).then(res => res.data),\n    register: data => apiClient.post('/auth/register', data).then(res => res.data)\n  },\n  user: {\n    getProfile: () => apiClient.get('/user/profile').then(res => res.data),\n    updateProfile: data => apiClient.put('/user/profile', data).then(res => res.data),\n    updatePassword: (oldPassword, newPassword) => apiClient.put('/user/password', {\n      oldPassword,\n      newPassword\n    }).then(res => res.data)\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","baseURL","process","env","REACT_APP_API_URL","apiClient","create","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","api","auth","login","credentials","post","then","res","data","register","user","getProfile","get","updateProfile","put","updatePassword","oldPassword","newPassword"],"sources":["C:/Custom/Coding/tongly-basic/tongly-basic/frontend/src/api/client.ts"],"sourcesContent":["import axios from 'axios';\r\nimport type { AxiosRequestConfig } from 'axios/index';\r\n\r\nconst baseURL = process.env.REACT_APP_API_URL || 'http://localhost:8080';\r\n\r\nconst apiClient = axios.create({\r\n    baseURL,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\napiClient.interceptors.request.use((config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n});\r\n\r\ninterface LoginCredentials {\r\n    username: string;\r\n    password: string;\r\n}\r\n\r\ninterface RegisterData {\r\n    username: string;\r\n    email: string;\r\n    password: string;\r\n    role: string;\r\n}\r\n\r\ninterface LanguageLevel {\r\n    language: string;\r\n    level: string;\r\n}\r\n\r\ninterface ProfileUpdateData {\r\n    email?: string;\r\n    first_name?: string;\r\n    last_name?: string;\r\n    profile_picture?: string;\r\n    age?: number;\r\n    native_language?: string;\r\n    languages?: LanguageLevel[];\r\n    interests?: string[];\r\n    learning_goals?: string[];\r\n    survey_complete?: boolean;\r\n}\r\n\r\nexport const api = {\r\n    auth: {\r\n        login: (credentials: LoginCredentials) =>\r\n            apiClient.post('/auth/login', credentials).then(res => res.data),\r\n        register: (data: RegisterData) =>\r\n            apiClient.post('/auth/register', data).then(res => res.data),\r\n    },\r\n    user: {\r\n        getProfile: () => apiClient.get('/user/profile').then(res => res.data),\r\n        updateProfile: (data: ProfileUpdateData) =>\r\n            apiClient.put('/user/profile', data).then(res => res.data),\r\n        updatePassword: (oldPassword: string, newPassword: string) =>\r\n            apiClient.put('/user/password', { oldPassword, newPassword }).then(res => res.data),\r\n    },\r\n};\r\n\r\nexport default api; "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAExE,MAAMC,SAAS,GAAGL,KAAK,CAACM,MAAM,CAAC;EAC3BL,OAAO;EACPM,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;AAEFF,SAAS,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EAC3C,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACPD,MAAM,CAACJ,OAAO,CAACQ,aAAa,GAAG,UAAUH,KAAK,EAAE;EACpD;EACA,OAAOD,MAAM;AACjB,CAAC,CAAC;AAgCF,OAAO,MAAMK,GAAG,GAAG;EACfC,IAAI,EAAE;IACFC,KAAK,EAAGC,WAA6B,IACjCd,SAAS,CAACe,IAAI,CAAC,aAAa,EAAED,WAAW,CAAC,CAACE,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC;IACpEC,QAAQ,EAAGD,IAAkB,IACzBlB,SAAS,CAACe,IAAI,CAAC,gBAAgB,EAAEG,IAAI,CAAC,CAACF,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI;EACnE,CAAC;EACDE,IAAI,EAAE;IACFC,UAAU,EAAEA,CAAA,KAAMrB,SAAS,CAACsB,GAAG,CAAC,eAAe,CAAC,CAACN,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC;IACtEK,aAAa,EAAGL,IAAuB,IACnClB,SAAS,CAACwB,GAAG,CAAC,eAAe,EAAEN,IAAI,CAAC,CAACF,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC;IAC9DO,cAAc,EAAEA,CAACC,WAAmB,EAAEC,WAAmB,KACrD3B,SAAS,CAACwB,GAAG,CAAC,gBAAgB,EAAE;MAAEE,WAAW;MAAEC;IAAY,CAAC,CAAC,CAACX,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI;EAC1F;AACJ,CAAC;AAED,eAAeP,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}